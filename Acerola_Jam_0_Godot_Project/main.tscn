[gd_scene load_steps=18 format=3 uid="uid://jvekwgk3g1bo"]

[ext_resource type="PackedScene" uid="uid://crho7h6t4w6x7" path="res://composition_modules/Linked_Path3D.tscn" id="1_bny65"]
[ext_resource type="PackedScene" uid="uid://6horm3jye3eg" path="res://game_elements/on_belt_object.tscn" id="2_4tc6p"]
[ext_resource type="PackedScene" uid="uid://dok0pyvneckou" path="res://game_elements/belt_turntable.tscn" id="3_8xeo6"]

[sub_resource type="Environment" id="Environment_ynf52"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_6s5gt"]

[sub_resource type="Curve3D" id="Curve3D_87ua0"]
_data = {
"points": PackedVector3Array(0, 0, 0, -1.5, 0, 0, -1.01097, -0.04251, 0.0232422, -1.5, 0, 0, 0, 0, 0, 0, 0, -3),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_qq6oo"]
_data = {
"points": PackedVector3Array(0, 0, 0, 1.5, 0, 0, 0, 0, 0, 1.5, 0, 0, 0, 0, 0, 0, 0, 3),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_imtqh"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.0406827, 0.00118613, 0.0027281, 0, 0, 0, 0, 0, 0, -0.954796, -0.0133922, -0.0217861),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_fuo21"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.5),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_q8s4r"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.5, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 1.6, 0, 0, 0, 0, 0, 0, 0.5, 0, 1.6),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_ul7ht"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1.6, 0, 0, 0, 0, 0, 0, -0.5, 0, 1.6),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_xha6k"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 3.6, 0, 0, 0, 0, 0, 0, 0, 0, 3.6, 0, 0, 0, 0, 0, 0, 0, 0, 2.6),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_0ybuy"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0.25, 0, 0, 0, 0, 0, 0, 0.25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.25, 0, 0, 0, 0, 0, 0, -0.25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.25),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_rb53m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_upvsd"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_qcadm"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_8p71y"]
_data = {
"points": PackedVector3Array(0, 0, 0, -4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -4, 0, -4),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="Main" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ynf52")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, 5.43025e-08, -6.85127e-08, 0, 0.783693, 0.621148, 8.74228e-08, 0.621148, -0.783693, 0, 4.47236, -6.03047)

[node name="TempFloor" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="TempFloor"]
shape = SubResource("WorldBoundaryShape3D_6s5gt")

[node name="LinkedPath3d_A" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.746545, 0, 0)
curve = SubResource("Curve3D_87ua0")
ExitPathNode = NodePath("../LinkedPath3d_B")

[node name="LinkedPath3d_B" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.73099, 0, -3)
curve = SubResource("Curve3D_qq6oo")
ExitPathNode = NodePath("../LinkedPath3D_C")

[node name="OnBeltObject_BACK" parent="LinkedPath3d_B" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
initial_velocity = 1.0

[node name="OnBeltObject_MIDDLE" parent="LinkedPath3d_B" instance=ExtResource("2_4tc6p")]
transform = Transform3D(0.828716, 0, 0.559667, 0, 1, 0, -0.559667, 0, 0.828716, 0.83955, 0, 0.462498)
progress = 1.0
initial_velocity = 0.75

[node name="OnBeltObject_FRONT" parent="LinkedPath3d_B" instance=ExtResource("2_4tc6p")]
transform = Transform3D(0.999175, 0, 0.0406155, 0, 1, 0, -0.0406155, 0, 0.999175, 1.12315, 0, 1.40887)
progress = 2.0
initial_velocity = 0.5

[node name="LinkedPath3D_C" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.730441, 0, 0)
curve = SubResource("Curve3D_imtqh")
ExitPathNode = NodePath("../LinkedPath3d_A")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.052336, 0.99863, 0, -0.99863, 0.052336, 5.33666, 9.64089, 0)

[node name="ExampleTurntable_SOUTH" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.82394, 0, -0.502164)

[node name="Belt_Turntable_SOUTH" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("EAST_Destination", "SOUTH_Destination", "WEST_Destination") instance=ExtResource("3_8xeo6")]
Turntable_Global_Direction = 2
EAST_Destination = NodePath("../LinkedPath3D_WEST_RETURN")
SOUTH_Destination = NodePath("../LinkedPath3D_SOUTH_RETURN")
WEST_Destination = NodePath("../LinkedPath3D_WEST_RETURN")

[node name="LinkedPath3D" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.82013e-05, 1, 1.53063)
curve = SubResource("Curve3D_fuo21")
ExitPathTurntable = NodePath("../Belt_Turntable_SOUTH")

[node name="OnBeltObject_ExampleSOUTH" parent="ExampleTurntable_SOUTH/LinkedPath3D" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_EAST_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.53507, 1, -0.00030601)
curve = SubResource("Curve3D_q8s4r")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="LinkedPath3D_WEST_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.46998, 1, -0.00030601)
curve = SubResource("Curve3D_ul7ht")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="LinkedPath3D_SOUTH_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00471997, 1, -0.998156)
curve = SubResource("Curve3D_xha6k")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="OnBeltObject" parent="ExampleTurntable_SOUTH/LinkedPath3D_SOUTH_RETURN" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.10039, 0, 3.6)
progress = 6.5
initial_velocity = 1.0

[node name="LinkedPath3D_BLOCKER" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.34393, 0, -2.12252)
curve = SubResource("Curve3D_0ybuy")
ExitPathNode = NodePath(".")

[node name="Input_Queue_Example" type="Node3D" parent="."]

[node name="Belt_Turntable_Input_Queue" parent="Input_Queue_Example" node_paths=PackedStringArray("SOUTH_Destination") instance=ExtResource("3_8xeo6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.53082, 0, 2.90484)
Turntable_Global_Direction = 2
SOUTH_Destination = NodePath("../LinkedPath3D_SOUTH")

[node name="LinkedPath3D_NORTH" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.531, 1, 6.905)
curve = SubResource("Curve3D_rb53m")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -2.00047)
progress = 2.0
initial_velocity = 1.0

[node name="OnBeltObject2" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -0.999532)
progress = 1.0
initial_velocity = 1.0

[node name="OnBeltObject3" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_EAST" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.531, 1, 2.905)
curve = SubResource("Curve3D_upvsd")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")
ExitPathTurntable_EnterDirection = 1

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_EAST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1, 0, 0)
progress = 1.0
initial_velocity = 1.0

[node name="OnBeltObject2" parent="Input_Queue_Example/LinkedPath3D_EAST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_WEST" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.531, 1, 2.905)
curve = SubResource("Curve3D_qcadm")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")
ExitPathTurntable_EnterDirection = 3

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_WEST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_SOUTH" parent="Input_Queue_Example" instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.537, 1, 1.902)
curve = SubResource("Curve3D_8p71y")
ExitPathTurntable_EnterDirection = 2
