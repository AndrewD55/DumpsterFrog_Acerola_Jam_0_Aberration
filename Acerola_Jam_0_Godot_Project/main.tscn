[gd_scene load_steps=18 format=3 uid="uid://jvekwgk3g1bo"]

[ext_resource type="PackedScene" uid="uid://crho7h6t4w6x7" path="res://composition_modules/Linked_Path3D.tscn" id="1_bny65"]
[ext_resource type="PackedScene" uid="uid://6horm3jye3eg" path="res://game_elements/on_belt_object.tscn" id="2_4tc6p"]
[ext_resource type="PackedScene" uid="uid://dok0pyvneckou" path="res://game_elements/belt_turntable.tscn" id="3_8xeo6"]
[ext_resource type="PackedScene" uid="uid://cwl267b67uw75" path="res://game_elements/belt_object_spawner.tscn" id="4_kq5bj"]
[ext_resource type="PackedScene" uid="uid://dsv2is2aywp5w" path="res://game_elements/belt_object_despawner.tscn" id="5_hyshx"]
[ext_resource type="PackedScene" uid="uid://bh2ao3g1gkv76" path="res://3D_Media/Factory/Factory_V0.glb" id="6_ebi33"]

[sub_resource type="Environment" id="Environment_ynf52"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_6s5gt"]

[sub_resource type="Curve3D" id="Curve3D_fuo21"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.5),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_q8s4r"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.5, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 1.6, 0, 0, 0, 0, 0, 0, 0.5, 0, 1.6),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_ul7ht"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1.6, 0, 0, 0, 0, 0, 0, -0.5, 0, 1.6),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_xha6k"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 3.6, 0, 0, 0, 0, 0, 0, 0, 0, 3.6, 0, 0, 0, 0, 0, 0, 0, 0, 2.6),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_rb53m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_upvsd"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_qcadm"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_8p71y"]
_data = {
"points": PackedVector3Array(0, 0, 0, -4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -4, 0, -4),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_eg1jk"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="Main" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ynf52")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.5, 0.866025, 0, -0.866025, -0.5, 5.33666, 19.3504, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, -6.18172e-08, 6.18172e-08, 0, 0.707107, 0.707107, -8.74228e-08, 0.707107, -0.707107, 0, 5.65094, -4.6857)
fov = 80.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]

[node name="TempFloor" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="TempFloor"]
shape = SubResource("WorldBoundaryShape3D_6s5gt")

[node name="ExampleTurntable_SOUTH" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.35869, 0, -0.502164)

[node name="Belt_Turntable_SOUTH" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("EAST_Destination", "SOUTH_Destination", "WEST_Destination") instance=ExtResource("3_8xeo6")]
Turntable_Global_Direction = 2
EAST_Destination = NodePath("../LinkedPath3D_EAST_RETURN")
SOUTH_Destination = NodePath("../LinkedPath3D_SOUTH_RETURN")
WEST_Destination = NodePath("../LinkedPath3D_WEST_RETURN")

[node name="LinkedPath3D" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.82013e-05, 1, 1.53063)
curve = SubResource("Curve3D_fuo21")
ExitPathTurntable = NodePath("../Belt_Turntable_SOUTH")

[node name="OnBeltObject_ExampleSOUTH" parent="ExampleTurntable_SOUTH/LinkedPath3D" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
initial_object_type = 1
initial_velocity = 1.0

[node name="LinkedPath3D_EAST_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.53507, 1, -0.00030601)
curve = SubResource("Curve3D_q8s4r")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="LinkedPath3D_WEST_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.46998, 1, -0.00030601)
curve = SubResource("Curve3D_ul7ht")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="LinkedPath3D_SOUTH_RETURN" parent="ExampleTurntable_SOUTH" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00471997, 1, -0.998156)
curve = SubResource("Curve3D_xha6k")
ExitPathNode = NodePath("../LinkedPath3D")

[node name="OnBeltObject" parent="ExampleTurntable_SOUTH/LinkedPath3D_SOUTH_RETURN" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 3.20158)
progress = 8.0
initial_velocity = 1.0

[node name="OnBeltObject2" parent="ExampleTurntable_SOUTH/LinkedPath3D_SOUTH_RETURN" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.598994, 0, 3.6)
progress = 7.0
initial_velocity = 1.0

[node name="Input_Queue_Example" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28417, 0, 0.292164)

[node name="Belt_Turntable_Input_Queue" parent="Input_Queue_Example" node_paths=PackedStringArray("SOUTH_Destination") instance=ExtResource("3_8xeo6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.53082, 0, 2.90484)
Turntable_Global_Direction = 2
SOUTH_Destination = NodePath("../LinkedPath3D_SOUTH")

[node name="LinkedPath3D_NORTH" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.531, 1, 6.905)
curve = SubResource("Curve3D_rb53m")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -2.00047)
progress = 2.0
initial_velocity = 1.0

[node name="OnBeltObject2" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -0.999532)
progress = 1.0
initial_object_type = 1
initial_velocity = 1.0

[node name="OnBeltObject3" parent="Input_Queue_Example/LinkedPath3D_NORTH" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_EAST" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.531, 1, 2.905)
curve = SubResource("Curve3D_upvsd")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")
ExitPathTurntable_EnterDirection = 1

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_EAST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1, 0, 0)
progress = 1.0
initial_velocity = 1.0

[node name="OnBeltObject2" parent="Input_Queue_Example/LinkedPath3D_EAST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_WEST" parent="Input_Queue_Example" node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.531, 1, 2.905)
curve = SubResource("Curve3D_qcadm")
ExitPathTurntable = NodePath("../Belt_Turntable_Input_Queue")
ExitPathTurntable_EnterDirection = 3

[node name="OnBeltObject" parent="Input_Queue_Example/LinkedPath3D_WEST" instance=ExtResource("2_4tc6p")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
initial_velocity = 1.0

[node name="LinkedPath3D_SOUTH" parent="Input_Queue_Example" instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.537, 1, 1.902)
curve = SubResource("Curve3D_8p71y")
ExitPathTurntable_EnterDirection = 2

[node name="Belt_Object_Spawner_Example" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.752838)

[node name="belt_object_spawner" parent="Belt_Object_Spawner_Example" node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("4_kq5bj")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -2.69722, 0, -2.94234)
ExitPathNode = NodePath("../Show_Off_Spawned_Objs")
Spawn_Rate_Seconds = 1.0

[node name="Show_Off_Spawned_Objs" parent="Belt_Object_Spawner_Example" node_paths=PackedStringArray("ExitPathDespawner") instance=ExtResource("1_bny65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.697, 1, -2.942)
curve = SubResource("Curve3D_eg1jk")
ExitPathDespawner = NodePath("../belt_object_despawner")

[node name="belt_object_despawner" parent="Belt_Object_Spawner_Example" instance=ExtResource("5_hyshx")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.303, 0, -2.942)

[node name="Factory_V0" parent="Belt_Object_Spawner_Example/belt_object_despawner" instance=ExtResource("6_ebi33")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.38419e-07, -0.75, 3.38615)
