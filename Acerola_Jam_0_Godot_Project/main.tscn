[gd_scene load_steps=15 format=3 uid="uid://jvekwgk3g1bo"]

[ext_resource type="PackedScene" uid="uid://dwqmw47wovn07" path="res://game_elements/hud.tscn" id="1_a75ad"]
[ext_resource type="PackedScene" uid="uid://dok0pyvneckou" path="res://game_elements/belt_turntable.tscn" id="3_8xeo6"]
[ext_resource type="PackedScene" uid="uid://bjlnaliaoxaam" path="res://composition_modules/Conveyor_Linked_Path3D.tscn" id="4_2s213"]
[ext_resource type="PackedScene" uid="uid://cwl267b67uw75" path="res://game_elements/belt_object_spawner.tscn" id="4_kq5bj"]
[ext_resource type="PackedScene" uid="uid://dsv2is2aywp5w" path="res://game_elements/belt_object_despawner.tscn" id="5_xpj6u"]
[ext_resource type="PackedScene" uid="uid://bh2ao3g1gkv76" path="res://3D_Media/Factory/Factory_V0.glb" id="6_ebi33"]
[ext_resource type="PackedScene" uid="uid://cn1hrx8qiyvv4" path="res://3D_Media/Bad_Product/Bad_Donut_V0.glb" id="7_25lyb"]
[ext_resource type="PackedScene" uid="uid://br3wcnt2cllqr" path="res://3D_Media/Good_Product/Good_Donut_V0.glb" id="8_21tbe"]

[sub_resource type="Environment" id="Environment_ynf52"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_6s5gt"]

[sub_resource type="Curve3D" id="Curve3D_5di6e"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_3btxb"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.45, 0, 0, 1.5, 0, 0, 0, 0, 0, 0, -0.5, 0, 2, 0, 0, 0, 0, 0, 0, -1, 0, 2),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_4006t"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.45, 0, 0, 0.5, 0, 0, 0, 0, 0, 0, -0.5, 0, 1, 0, 0, 0, 0, 0, 0, -2, 0, 1),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_270gg"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="Main" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ynf52")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.5, 0.866025, 0, -0.866025, -0.5, 5.33666, 19.3504, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-0.791991, 0.350187, -0.500119, -6.19315e-08, 0.819152, 0.573576, 0.610533, 0.454268, -0.648761, -2.72561, 3.55569, -4.81569)

[node name="HUD" parent="Camera3D" instance=ExtResource("1_a75ad")]

[node name="Factory_V0" parent="." instance=ExtResource("6_ebi33")]
transform = Transform3D(1, 0, -1.06581e-14, 0, 1, 0, 1.06581e-14, 0, 1, 0, -0.75, 0)

[node name="TempFloor" type="StaticBody3D" parent="Factory_V0"]
transform = Transform3D(1, 0, 1.06581e-14, 0, 1, 0, -1.06581e-14, 0, 1, 0, 0.75, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Factory_V0/TempFloor"]
shape = SubResource("WorldBoundaryShape3D_6s5gt")

[node name="belt_object_spawner_A" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("4_kq5bj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -5)
ExitPathNode = NodePath("../Conveyor_LinkedPath3D_A_to_C")
Spawn_Rate_Seconds = 2.5

[node name="belt_object_spawner_B" parent="." node_paths=PackedStringArray("ExitPathNode") instance=ExtResource("4_kq5bj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5)
ExitPathNode = NodePath("../Conveyor_LinkedPath3D_B_to_C")
Spawn_Rate_Seconds = 2.5

[node name="Conveyor_LinkedPath3D_B_to_C" parent="." node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("4_2s213")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -4)
curve = SubResource("Curve3D_5di6e")
ExitPathTurntable = NodePath("../Belt_Turntable_C")
ExitPathTurntable_EnterDirection = 2

[node name="Conveyor_LinkedPath3D_A_to_C" parent="." node_paths=PackedStringArray("ExitPathTurntable") instance=ExtResource("4_2s213")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, -4)
curve = SubResource("Curve3D_3btxb")
ExitPathTurntable = NodePath("../Belt_Turntable_C")
ExitPathTurntable_EnterDirection = 3

[node name="Belt_Turntable_C" parent="." node_paths=PackedStringArray("NORTH_Destination", "EAST_Destination") instance=ExtResource("3_8xeo6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2)
Turntable_Global_Direction = 2
NORTH_Destination = NodePath("../Conveyor_LinkedPath3D_C_to_E")
EAST_Destination = NodePath("../Conveyor_LinkedPath3D_C_to_D")

[node name="Conveyor_LinkedPath3D_C_to_E" parent="." node_paths=PackedStringArray("ExitPathDespawner") instance=ExtResource("4_2s213")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -1)
curve = SubResource("Curve3D_4006t")
ExitPathDespawner = NodePath("../belt_object_despawner_E")

[node name="Conveyor_LinkedPath3D_C_to_D" parent="." node_paths=PackedStringArray("ExitPathDespawner") instance=ExtResource("4_2s213")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, -2)
curve = SubResource("Curve3D_270gg")
ExitPathDespawner = NodePath("../belt_object_despawner_D")

[node name="belt_object_despawner_E" parent="." instance=ExtResource("5_xpj6u")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0, 0)
Object_Type_REFINED_Score = -5
Object_Type_DEFECT_Score = 5

[node name="Bad_Donut_V0" parent="belt_object_despawner_E" instance=ExtResource("7_25lyb")]
transform = Transform3D(-0.671643, 0, 0.740875, 0, 1, 0, -0.740875, 0, -0.671643, 0.0203948, 2.0501, 0.0795057)

[node name="belt_object_despawner_D" parent="." instance=ExtResource("5_xpj6u")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4, 0, -2)
Object_Type_REFINED_Score = 10
Object_Type_DEFECT_Score = -20

[node name="Good_Donut_V0" parent="belt_object_despawner_D" instance=ExtResource("8_21tbe")]
transform = Transform3D(1, -1.90743e-09, 4.16343e-11, 1.90743e-09, 0.999047, -0.0436368, 4.16378e-11, 0.0436368, 0.999047, -0.052826, 2.03506, 0.240561)
